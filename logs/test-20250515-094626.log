ğŸ§ª full_check_1.sh v1.0
ğŸ•’ 2025-05-15 09:46:26
ğŸ”¢ Commit: 5a2eb57
ğŸŸ¢ Node: /home/jsbien/.nvm/versions/node/v22.15.0/bin/node
ğŸŸ¢ Node version: v22.15.0
ğŸ§¹ Cleaning up stale .pyc files...
ğŸ” Restarting server...
ğŸ”„ Restarting uwsgi on 127.0.0.1:9091...
ğŸ” Killing uwsgi bound to 127.0.0.1:9091...
ğŸ”ª Killing PID 1699408
ğŸ”ª Killing PID 1699424
âœ… uwsgi terminated cleanly
ğŸš€ Launching new uwsgi via run-uwsgi.sh...
â³ Waiting for server on port 9090...
Logging to uwsgi-20250515-094629.log
Ctrl+C to stop.
âœ… Server is up!
ğŸ“¡ Verifying uwsgi restart via /api/ping...
PONG
HTTP Status: 200
ğŸ“¶ Pinging server...
âœ… Ping succeeded
ğŸ” Running HTML check...
ğŸ§­ Using Chromium binary at: /home/jsbien/.cache/puppeteer/chrome/linux-136.0.7103.49/chrome-linux64/chrome
ğŸŒ Testing URL: http://localhost:9090
âŒ Found visible error messages on the page:
â†’ Ã—
Error. The Document Service encountered an error while trying to access the API (Internal Server Error). Make sure the server is running and accessible.
â†’ Ã—
Error. The Document Service encountered an error while trying to access the API (Internal Server Error). Make sure the server is running and accessible.
âŒ HTML test failed
ğŸ§¹ Clearing collections table...
âœ… Collections cleared
ğŸ“¡ Running POST check...
Status Code: 200
Response Body:
{"status": "ok"}
âœ… POST test passed
ğŸ“¡ Running GET check...
Status Code: 500
Response Body:
Internal Server Error
âŒ GET test failed
ğŸ§ª Running batch_upload_pages_TEST.sh...
âŒ Batch upload test failed
âŒ One or more tests failed
e/jsbien/git/glyph-miner/utils/masks
2025-05-15 09:46:32,298 [INFO] Found 1 image(s) to process.
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/requests/models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/simplejson/__init__.py", line 525, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/simplejson/decoder.py", line 372, in decode
    obj, end = self.raw_decode(s)
               ^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/simplejson/decoder.py", line 402, in raw_decode
    return self.scan_once(s, idx=_w(s, idx).end())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
simplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jsbien/git/glyph-miner/utils/batch_upload_pages.py", line 164, in <module>
    main()
  File "/home/jsbien/git/glyph-miner/utils/batch_upload_pages.py", line 134, in main
    collection_id = find_or_create_collection(args.collection, args.dry_run)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jsbien/git/glyph-miner/utils/batch_upload_pages.py", line 30, in find_or_create_collection
    collections = requests.get(f"{API}/collections").json()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/requests/models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
